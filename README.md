# ๐ ุฑุจุงุช ุชูฺฏุฑุงู ูุฑูุด ฺฉุงููฺฏ VPN

ุฑุจุงุช ุชูฺฏุฑุงู ูพุดุฑูุชู ุจุฑุง ูุฑูุด ู ูุฏุฑุช ฺฉุงููฺฏโูุง VPN ุจุง ูพุดุชุจุงู ุงุฒ ูพููโูุง Marzban

## โจ ูฺฺฏโูุง ฺฉูุฏ

### ๐ก๏ธ ุงููุช ุจุงูุง
- **ุญูุงุธุช ุงุฒ ุงุทูุงุนุงุช ุญุณุงุณ**: ุชูุงู ฺฉูุฏูุง ู ุฑูุฒูุง ุนุจูุฑ ุฏุฑ ูุงู `.env` ูฺฏูุฏุงุฑ ูโุดููุฏ
- **ุงุนุชุจุงุฑุณูุฌ ูุฑูุฏ**: ุชูุงู ูุฑูุฏโูุง ฺฉุงุฑุจุฑ ุจุง Pydantic ุงุนุชุจุงุฑุณูุฌ ูโุดููุฏ
- **ูุญุฏูุฏุช ูุฑุฎ ุฏุฑุฎูุงุณุช**: ุฌููฺฏุฑ ุงุฒ spam ู ุญููุงุช DoS
- **SQL Injection Prevention**: ุงุณุชูุงุฏู ุงุฒ parameterized queries

### ๐ผ ูุฏุฑุช ุฌุงูุน
- **ูพูู ุงุฏูู ฺฉุงูู**: ูุฏุฑุช ูพููโูุงุ ฺฉุงุฑุจุฑุงูุ ูพุงูโูุง ู ุชูุธูุงุช
- **ฺูุฏู ูพูู Marzban**: ูพุดุชุจุงู ุงุฒ ฺูุฏู ูพูู ููุฒูุงู
- **ุณุณุชู ฺฉุฏ ุชุฎูู**: ุงุฌุงุฏ ู ูุฏุฑุช ฺฉุฏูุง ุชุฎูู
- **ุจฺฉุงูพโฺฏุฑ**: ุชูู ุจฺฉุงูพ ุงุฒ ุชูุงู ฺฉุงุฑุจุฑุงู

### ๐ฏ ุชุฌุฑุจู ฺฉุงุฑุจุฑ ุจูุชุฑ
- **ุฑุงุจุท ฺฉุงุฑุจุฑ ูพูุง**: ูพุงูโูุง ู ุฏฺฉููโูุง ูุงุจู ุชูุธู
- **ุณุณุชู ุชูุฏุฏ**: ุชูุฏุฏ ุฎูุฏฺฉุงุฑ ู ุงุฏุขูุฑ ุงููุถุง
- **ฺฉุงููฺฏ ุชุณุช ุฑุงฺฏุงู**: ุงุฑุงุฆู ุณุฑูุณ ุชุณุช ูุญุฏูุฏ
- **ุงุฑุณุงู ููฺฏุงู**: ุงุทูุงุนโุฑุณุงู ุจู ฺฉุงุฑุจุฑุงู

## ๐ ูพุดโูุงุฒูุง

- Python 3.8+
- SQLite3 (ูพุดโูุฑุถ) ุง PostgreSQL
- ุฏุณุชุฑุณ ุจู ุงูุชุฑูุช ุจุฑุง ุงุฑุชุจุงุท ุจุง API ุชูฺฏุฑุงู ู ูพููโูุง Marzban

## ๐ ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### 1. ฺฉููู ฺฉุฑุฏู ูพุฑูฺู
```bash
git clone https://github.com/your-repo/vpn-telegram-bot.git
cd vpn-telegram-bot
```

### 2. ูุตุจ ูุงุจุณุชฺฏโูุง
```bash
pip install -r requirements.txt
```

### 3. ุชูุธูุงุช ูุญุท
ูุงู `.env.example` ุฑุง ฺฉูพ ฺฉุฑุฏู ู ูุงู ุขู ุฑุง ุจู `.env` ุชุบุฑ ุฏูุฏ:

```bash
cp .env.example .env
```

ูุงู `.env` ุฑุง ูุฑุงุด ฺฉูุฏ:

```env
# Bot Configuration
BOT_TOKEN=your_bot_token_here
ADMIN_ID=your_admin_id_here

# Channel Configuration
CHANNEL_USERNAME=@your_channel_username
CHANNEL_ID=-1001234567890

# Database Configuration
DB_NAME=bot.db

# Security Settings
SECRET_KEY=your_secret_key_here
RATE_LIMIT_PER_MINUTE=30

# Logging Configuration
LOG_LEVEL=INFO
LOG_FILE=bot.log
```

### 4. ุงุฌุฑุง ุฑุจุงุช
```bash
python bot.py
```

## โ๏ธ ุชูุธูุงุช

### ุฏุฑุงูุช ุชูฺฉู ุฑุจุงุช
1. ุจู [@BotFather](https://t.me/BotFather) ุฏุฑ ุชูฺฏุฑุงู ูพุงู ุฏูุฏ
2. ุฏุณุชูุฑ `/newbot` ุฑุง ุงุฑุณุงู ฺฉูุฏ
3. ูุงู ู username ุฑุจุงุช ุฑุง ุชุนู ฺฉูุฏ
4. ุชูฺฉู ุฏุฑุงูุช ุฑุง ุฏุฑ `.env` ูุฑุงุฑ ุฏูุฏ

### ุชูุธู ฺฉุงูุงู ุงุฌุจุงุฑ
1. ฺฉุงูุงู ุฎูุฏ ุฑุง ุงุฌุงุฏ ฺฉูุฏ
2. ุฑุจุงุช ุฑุง ุจู ุนููุงู ุงุฏูู ุจู ฺฉุงูุงู ุงุถุงูู ฺฉูุฏ
3. username ฺฉุงูุงู ู ID ุขู ุฑุง ุฏุฑ `.env` ูุฑุงุฑ ุฏูุฏ

### ุงุถุงูู ฺฉุฑุฏู ูพูู Marzban
1. ุงุฒ ุฏุณุชูุฑ `/admin` ุงุณุชูุงุฏู ฺฉูุฏ
2. ุฑู "ูุฏุฑุช ูพููโูุง" ฺฉูฺฉ ฺฉูุฏ
3. "ุงูุฒูุฏู ูพูู ุฌุฏุฏ" ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
4. ุงุทูุงุนุงุช ูพูู ุฑุง ูุงุฑุฏ ฺฉูุฏ

## ๐ ุฑุงูููุง ุงุณุชูุงุฏู

### ุจุฑุง ฺฉุงุฑุจุฑุงู ุนุงุฏ
- **ุฎุฑุฏ ฺฉุงููฺฏ**: ุงูุชุฎุงุจ ูพููุ ูพุฑุฏุงุฎุชุ ุฏุฑุงูุช ฺฉุงููฺฏ
- **ุณุฑูุณ ูู**: ูุดุงูุฏู ฺฉุงููฺฏโูุง ูุนุงู ู ุชูุฏุฏ
- **ฺฉุงููฺฏ ุชุณุช**: ุฏุฑุงูุช ฺฉุงููฺฏ ุชุณุช ุฑุงฺฏุงู

### ุจุฑุง ุงุฏูู
- **ูุฏุฑุช ูพููโูุง**: ุงุฌุงุฏุ ูุฑุงุดุ ุญุฐู ูพููโูุง
- **ุจุฑุฑุณ ุณูุงุฑุดุงุช**: ุชุงุฏ ุง ุฑุฏ ุณูุงุฑุดุงุช ฺฉุงุฑุจุฑุงู
- **ูุฏุฑุช ฺฉุงุฑุจุฑุงู**: ูุดุงูุฏู ุขูุงุฑ ู ูุฏุฑุช ฺฉุงุฑุจุฑุงู
- **ุชูุธูุงุช**: ุชุบุฑ ูพุงูโูุงุ ฺฉุงุฑุชโูุงุ ุชูุธูุงุช ุนููู

## ๐๏ธ ุณุงุฎุชุงุฑ ูพุฑูฺู

```
vpn-telegram-bot/
โโโ bot.py                 # ูุงู ุงุตู ุฑุจุงุช
โโโ config.py             # ุชูุธูุงุช ู ูพฺฉุฑุจูุฏ
โโโ database.py           # ูุฏุฑุช ูพุงฺฏุงู ุฏุงุฏู
โโโ marzban_api.py        # ุงุฑุชุจุงุท ุจุง API ูุฑุฒุจุงู
โโโ validators.py         # ุงุนุชุจุงุฑุณูุฌ ูุฑูุฏโูุง
โโโ requirements.txt      # ูุงุจุณุชฺฏโูุง ูพุงุชูู
โโโ .env                 # ูุชุบุฑูุง ูุญุท (ุญุณุงุณ)
โโโ .env.example         # ููููู ูุงู ุชูุธูุงุช
โโโ README.md            # ุฑุงูููุง ูพุฑูฺู
โโโ analysis_report.md   # ฺฏุฒุงุฑุด ุชุญูู ฺฉุฏ
```

## ๐ง ูพฺฉุฑุจูุฏ ูพุดุฑูุชู

### ุชุบุฑ ูพุงฺฏุงู ุฏุงุฏู
ุจุฑุง ุงุณุชูุงุฏู ุงุฒ PostgreSQL ุจู ุฌุง SQLite:

```python
# ุฏุฑ config.py
DB_URL = "postgresql://user:password@localhost/dbname"
```

### ุชูุธู ูุงฺฏโฺฏุฑ
```env
LOG_LEVEL=DEBUG  # DEBUG, INFO, WARNING, ERROR
LOG_FILE=logs/bot.log
```

### ูุญุฏูุฏุช ูุฑุฎ ุฏุฑุฎูุงุณุช
```env
RATE_LIMIT_PER_MINUTE=60  # ุชุนุฏุงุฏ ุฏุฑุฎูุงุณุช ุฏุฑ ุฏููู
```

## ๐๏ธ ุชูุณุนู ู ุณูุงุฑุดโุณุงุฒ

### ุงุถุงูู ฺฉุฑุฏู ูพุงู ุฌุฏุฏ
1. ูุงุฑุฏ ูพูู ุงุฏูู ุดูุฏ
2. "ูุฏุฑุช ูพุงูโูุง" โ "ุงูุฒูุฏู ูพุงู ุฌุฏุฏ"
3. ูุงู ู ูุญุชูุง ูพุงู ุฑุง ูุงุฑุฏ ฺฉูุฏ

### ุงุฌุงุฏ ุฏฺฉููโูุง ุฌุฏุฏ
1. ุฏุฑ ุจุฎุด ูุฏุฑุช ูพุงูโูุงุ ูพุงู ููุฑุฏ ูุธุฑ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
2. "ูุฑุงุด ุฏฺฉููโูุง" โ "ุงูุฒูุฏู ุฏฺฉูู ุฌุฏุฏ"
3. ูุชูุ ูุฏูุ ู ูููุนุช ุฏฺฉูู ุฑุง ุชุนู ฺฉูุฏ

## ๐ ุงููุช

### ูฺฉุงุช ุงููุช ููู
- **ูุฑฺฏุฒ** ูุงู `.env` ุฑุง ุฏุฑ git ูุฑุงุฑ ูุฏูุฏ
- ุชูฺฉู ุฑุจุงุช ุฑุง ูุญุฑูุงูู ูฺฏู ุฏุงุฑุฏ
- ุงุฒ HTTPS ุจุฑุง ูพููโูุง Marzban ุงุณุชูุงุฏู ฺฉูุฏ
- ุจูโุฑูุฒุฑุณุงู ููุธู ูุงุจุณุชฺฏโูุง

### ุจฺฉุงูพโฺฏุฑ
```bash
# ุจฺฉุงูพ ูพุงฺฏุงู ุฏุงุฏู
cp bot.db backup/bot_$(date +%Y%m%d).db

# ุจฺฉุงูพ ุชูุธูุงุช
cp .env backup/.env_$(date +%Y%m%d)
```

## ๐ ูุธุงุฑุช ู ุนุจโุงุจ

### ุจุฑุฑุณ ูุงฺฏโูุง
```bash
tail -f bot.log
```

### ูุดฺฉูุงุช ุฑุงุฌ

#### ุฑุจุงุช ูพุงุณุฎ ููโุฏูุฏ
- ุจุฑุฑุณ ุตุญุช ุชูฺฉู ุฑุจุงุช
- ุงุชุตุงู ุงูุชุฑูุช ุณุฑูุฑ
- ูุถุนุช ุณุฑูุณโูุง ุชูฺฏุฑุงู

#### ุฎุทุง ุงุชุตุงู ุจู ูพูู
- ุจุฑุฑุณ URL ูพูู
- ุงุนุชุจุงุฑ username/password
- ุฏุณุชุฑุณ ุดุจฺฉู ุจู ูพูู

#### ูุดฺฉู ูพุงฺฏุงู ุฏุงุฏู
- ุจุฑุฑุณ ูุฌูุฒูุง ูุงู
- ูุถุง ุฏุณฺฉ ฺฉุงู
- ุตุญุช ุณุงุฎุชุงุฑ ุฌุฏุงูู

## ๐ค ูุดุงุฑฺฉุช

ุจุฑุง ูุดุงุฑฺฉุช ุฏุฑ ุชูุณุนู ูพุฑูฺู:

1. ูพุฑูฺู ุฑุง Fork ฺฉูุฏ
2. ุดุงุฎู ุฌุฏุฏ ุงุฌุงุฏ ฺฉูุฏ (`git checkout -b feature/AmazingFeature`)
3. ุชุบุฑุงุช ุฑุง commit ฺฉูุฏ (`git commit -m 'Add some AmazingFeature'`)
4. ุจู ุดุงุฎู push ฺฉูุฏ (`git push origin feature/AmazingFeature`)
5. Pull Request ุงุฌุงุฏ ฺฉูุฏ

## ๐ ูุฌูุฒ

ุงู ูพุฑูฺู ุชุญุช ูุฌูุฒ MIT ููุชุดุฑ ุดุฏู ุงุณุช. ุจุฑุง ุฌุฒุฆุงุช ุจุดุชุฑ ูุงู `LICENSE` ุฑุง ูุทุงูุนู ฺฉูุฏ.

## ๐ ูพุดุชุจุงู

- **ูุดฺฉูุงุช ูู**: [GitHub Issues](https://github.com/your-repo/issues)
- **ุณูุงูุงุช ุนููู**: [Telegram Channel](https://t.me/your_channel)
- **ูุณุชูุฏุงุช**: [Wiki](https://github.com/your-repo/wiki)

## ๐ ุชุดฺฉุฑ

- [python-telegram-bot](https://github.com/python-telegram-bot/python-telegram-bot) ุจุฑุง ูุฑููุฑฺฉ ุนุงู
- [Marzban](https://github.com/Gozargah/Marzban) ุจุฑุง ูพูู ูุฏุฑุช VPN
- ุฌุงูุนู ูุชูโุจุงุฒ ุจุฑุง ุงุจุฒุงุฑูุง ู ฺฉุชุงุจุฎุงููโูุง ุงุณุชูุงุฏู ุดุฏู

---

**โ๏ธ ูุดุฏุงุฑ**: ุงู ุฑุจุงุช ุตุฑูุงู ุจุฑุง ุงูุฏุงู ุขููุฒุด ู ุงุณุชูุงุฏู ูุงููู ุทุฑุงุญ ุดุฏู ุงุณุช. ูุทูุงู ุงุฒ ููุงูู ูุญู ู ุจูโุงูููู ูพุฑู ฺฉูุฏ.